<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="个人成长网站导航 - 选择你的故事">
  <title>导航 - 个人成长网站</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/nav.css">
</head>
<body>
  <!-- 顶部导航栏 -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- Logo -->
      <a href="index.html" class="navbar-logo">
        <span class="logo-icon">✨</span>
        <span class="logo-text">个人成长</span>
      </a>

      <!-- 中间标题 -->
      <h1 class="navbar-title">我的故事</h1>

      <!-- 右侧按钮组 -->
      <div class="navbar-actions">
        <!-- 导出按钮 -->
        <button class="nav-btn" id="exportBtn" title="导出数据" onclick="showExportModal()">
          <i class="fas fa-download"></i>
        </button>

        <!-- 导入按钮 -->
        <button class="nav-btn" id="importBtn" title="导入数据" onclick="triggerImportFile()">
          <i class="fas fa-upload"></i>
        </button>

        <!-- 隐藏的文件输入 -->
        <input type="file" id="importFile" style="display: none;" accept=".json" onchange="handleFileImport(event)">

        <!-- 回主页按钮（移动端） -->
        <button class="nav-btn mobile-only" id="backBtn" title="返回" onclick="goBack()">
          <i class="fas fa-arrow-left"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- 主要内容 -->
  <main class="main-content">
    <!-- 欢迎区域 -->
    <section class="welcome-section">
      <div class="welcome-text">
        <h2 id="welcomeText">欢迎</h2>
        <p>选择下方任意模块开始记录你的故事</p>
      </div>
    </section>

    <!-- 模块网格 -->
    <section class="modules-section">
      <div class="modules-grid">
        <!-- 我的 -->
        <a href="pages/profile.html" class="module-card">
          <div class="module-icon">👤</div>
          <h3>我的</h3>
          <p>个人信息</p>
        </a>

        <!-- 旅程 -->
        <a href="pages/trip.html" class="module-card">
          <div class="module-icon">🗺️</div>
          <h3>旅程</h3>
          <p>中国地图</p>
        </a>

        <!-- 相册 -->
        <a href="pages/album.html" class="module-card">
          <div class="module-icon">📸</div>
          <h3>相册</h3>
          <p>照片集合</p>
        </a>

        <!-- 读书 -->
        <a href="pages/books.html" class="module-card">
          <div class="module-icon">📚</div>
          <h3>读书</h3>
          <p>阅读记录</p>
        </a>

        <!-- 兴趣爱好 -->
        <a href="pages/hobbies.html" class="module-card">
          <div class="module-icon">🎨</div>
          <h3>兴趣爱好</h3>
          <p>我的热情</p>
        </a>

        <!-- 宠物 -->
        <a href="pages/pets.html" class="module-card">
          <div class="module-icon">🐾</div>
          <h3>宠物</h3>
          <p>宠物记录</p>
        </a>
      </div>
    </section>

    <!-- 数据状态区 -->
    <section class="status-section">
      <div class="status-card">
        <span class="status-icon">💾</span>
        <div class="status-info">
          <p class="status-label">数据占用</p>
          <p class="status-value" id="storageUsage">计算中...</p>
        </div>
      </div>
    </section>
  </main>

  <!-- 导出模态框 -->
  <div id="exportModal" class="modal-backdrop">
    <div class="modal">
      <div class="modal-header">
        <h3>导出数据</h3>
        <button class="modal-close" onclick="closeExportModal()">×</button>
      </div>
      <div class="modal-body">
        <p>导出你的所有数据为 JSON 文件。可用于备份或转移数据。</p>
        <textarea id="exportData" readonly style="width: 100%; height: 200px; margin: 1rem 0;"></textarea>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeExportModal()">取消</button>
        <button class="btn btn-primary" onclick="downloadExportData()">
          <i class="fas fa-download"></i> 下载 JSON
        </button>
        <button class="btn btn-secondary" onclick="copyExportData()">
          <i class="fas fa-copy"></i> 复制
        </button>
      </div>
    </div>
  </div>

  <script src="js/storage.js"></script>
  <script src="js/nav.js"></script>
</body>
</html>
